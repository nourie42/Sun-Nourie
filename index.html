<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fuel Volume Estimator â€¢ Sunoco LP</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
  :root{
    --bg:#0f172a; --panel:#0b1224; --border:#1f2937; --muted:#94a3b8; --text:#e5e7eb;
    --accent:#60a5fa; --good:#22c55e; --warn:#f59e0b; --brand-blue:#002f6c; --brand-red:#d61f26; --brand-yellow:#ffd200;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif; background:var(--bg); color:var(--text);}
  /* Header */
  .brandbar{position:sticky; top:0; z-index:1000; background:linear-gradient(180deg,#0b1224 0%, #081020 100%); border-bottom:1px solid var(--border); padding:10px 14px; display:flex; align-items:center; justify-content:space-between;}
  .brand{display:flex; align-items:center; gap:10px;}
  .brand img{height:32px; width:auto;}
  .brand .text-logo{font-weight:900; letter-spacing:.6px; font-size:18px; background:linear-gradient(90deg,var(--brand-yellow), var(--brand-red)); -webkit-background-clip:text; background-clip:text; color:transparent; text-transform:uppercase;}
  .brand-sub{font-size:12px; color:var(--muted);}
  .accent-strip{height:3px; background:linear-gradient(90deg,var(--brand-yellow),var(--brand-red),var(--brand-blue));}
  /* Layout */
  .container{padding:18px; max-width:680px; margin:auto;}
  h1{font-size:20px; margin:0 0 12px;}
  label{display:block; margin:12px 0 6px; color:#cbd5e1; font-size:14px;}
  input,button{width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--border); background:var(--panel); color:var(--text); font-size:16px;}
  input::placeholder{color:#64748b}
  button{background:var(--accent); color:#0b1224; font-weight:800; cursor:pointer;}
  button#export{background:#34d399; display:none}
  button#reset{background:#fbbf24; color:#0f172a; display:none}
  #status{margin-top:12px; font-size:14px; background:#1e293b; border:1px solid var(--border); border-radius:8px; padding:10px; height:140px; overflow-y:auto; font-family:ui-monospace,SFMono-Regular,Menlo,monospace; white-space:pre-line;}
  #result{margin-top:16px; font-size:20px; font-weight:900; color:var(--good);}
  #summary,#competitors,#developments{margin-top:10px; font-size:14px; color:#e2e8f0;}
  #map{height:58vh; margin:18px auto; border:1px solid var(--border); border-radius:12px; max-width:1200px;}
  .hint{font-size:12px; color:#94a3b8; margin-top:6px;}
</style>
</head>
<body>
<header class="brandbar">
  <div class="brand">
    <img id="sunocoLogo" src="sunoco-logo.svg" alt="Sunoco LP logo"
      onerror="this.style.display='none'; document.getElementById('textLogo').style.display='inline-block';"/>
    <span id="textLogo" class="text-logo" style="display:none;">Sunoco LP</span>
  </div>
  <div class="brand-sub">Fuel Volume Estimator</div>
</header>
<div class="accent-strip"></div>

<div class="container">
  <h1>Monthly Volume Estimate</h1>
  <label for="address">Address</label>
  <input id="address" placeholder="4173 Knightdale Blvd, Knightdale, NC" />
  <label for="mpds">MPDs</label>
  <input id="mpds" type="number" min="1" value="6" />
  <button id="estimate">Calculate Estimate</button>

  <div id="status"></div>
  <div id="result"></div>
  <div id="summary"></div>
  <div id="competitors"></div>
  <div id="developments"></div>
  <button id="export">ðŸ“„ Export to PDF</button>
  <button id="reset">ðŸ”„ Run Another Search</button>

  <div class="hint">
    Sources: Nominatim (address geocode), NCDOT AADT (traffic), OSM Overpass (competitors & new sites).
    Includes brand-weighted Huff shares, penalties for large formats (Wawa, Sheetz, Costco, Buc-eeâ€™s, etc.), and MPD throughput caps.
  </div>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// === Full JavaScript estimator logic goes here ===
// (Geocoding, AADT fetch, competitor fetch, developments, Huff share, penalties, MPD cap, logging, PDF export, reset)
// --- For brevity Iâ€™m not duplicating the 400+ lines again ---
// Use the last full estimator logic I gave you, paste it here under <script>.
</script>
</body>
</html>
